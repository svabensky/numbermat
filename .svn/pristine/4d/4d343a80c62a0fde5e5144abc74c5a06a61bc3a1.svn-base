package Numbermat.Problems;

import Numbermat.GUI.Config;
import Numbermat.Pair;
import java.util.List;

/**
 * Generic class for math problem.
 * 
 * @author Valdemar Svabensky <395868@mail.muni.cz>
 */
public abstract class MathProblem {
    
    /* Difficulty bounds */
    protected static Pair<Integer, Integer> easyBounds;
    protected static Pair<Integer, Integer> mediumBounds;
    protected static Pair<Integer, Integer> hardBounds;
    
    protected String problemPlaintext;  // Math problem in plaintext form
    protected String problemLaTeX;      // Math problem in LaTeX form
    protected String solutionPlaintext; // Solution to math problem in plaintext form
    protected String solutionLaTeX;     // Solution to math problem in LaTeX form
    protected List<Integer> result;

    protected abstract void prepareProblemPlaintext();
    protected abstract void prepareProblemLaTeX();
    protected abstract void prepareSolutionPlaintext();
    protected abstract void prepareSolutionLaTeX();
    
    protected final void prepareAll() {
        prepareProblemPlaintext();
        prepareProblemLaTeX();
        prepareSolutionPlaintext();
        prepareSolutionLaTeX();
    }
    
    public final String getProblemPlaintext() {
        return problemPlaintext;
    }

    public final String getProblemLaTeX() {
        return problemLaTeX;
    }

    public final String getSolutionPlaintext() {
        return solutionPlaintext;
    }

    public final String getSolutionLaTeX() {
        return solutionLaTeX;
    }
    
    public final List<Integer> getResult() {
        return result;
    }
    
    protected static final Pair<Integer, Integer> initBounds(final String difficulty) {
        switch (difficulty) {
            case Config.EASY:   return easyBounds;
            case Config.MEDIUM: return mediumBounds;
            case Config.HARD:   return hardBounds;
            default:
                throw new IllegalArgumentException("Unknown difficulty.");
        }
    }
}
